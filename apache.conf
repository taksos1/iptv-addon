<VirtualHost *:80>
    ServerName inazuma-system.site
    DocumentRoot /var/www/html

    # Main website (default)
    ProxyPreserveHost On
    
    # Stremio IPTV addon routes
    ProxyPass /stremio/ http://localhost:3001/
    ProxyPassReverse /stremio/ http://localhost:3001/
    
    # All other requests go to main website
    ProxyPass / http://localhost:80/ exclude=/stremio/
    ProxyPassReverse / http://localhost:80/
    
    # Enable required modules
    # a2enmod proxy
    # a2enmod proxy_http
    # a2enmod rewrite
</VirtualHost>

<VirtualHost *:443>
    ServerName inazuma-system.site
    
    # SSL Configuration
    # SSLEngine on
    # SSLCertificateFile /path/to/your/certificate.crt
    # SSLCertificateKeyFile /path/to/your/private.key
    
    ProxyPreserveHost On
    
    # Stremio IPTV addon routes
    ProxyPass /stremio/ http://localhost:3001/
    ProxyPassReverse /stremio/ http://localhost:3001/
    
    # All other requests go to main website
    ProxyPass / http://localhost:80/ exclude=/stremio/
    ProxyPassReverse / http://localhost:80/
</VirtualHost>

# Alternative: Subdomain configuration
# <VirtualHost *:80>
#     ServerName stremio.inazuma-system.site
#     ProxyPass / http://localhost:3001/
#     ProxyPassReverse / http://localhost:3001/
# </VirtualHost>
#
# <VirtualHost *:443>
#     ServerName stremio.inazuma-system.site
#     SSLEngine on
#     ProxyPass / http://localhost:3001/
#     ProxyPassReverse / http://localhost:3001/
# </VirtualHost>
